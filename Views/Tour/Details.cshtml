@model TravelWebsite.Models.Tour
@{
    ViewData["Title"] = Model.Name;
}

<div class="container py-5">
    <nav aria-label="breadcrumb" class="mb-4">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Trang chủ</a></li>
            <li class="breadcrumb-item"><a asp-controller="Tour" asp-action="Index">Tour du lịch</a></li>
            <li class="breadcrumb-item active" aria-current="page">@Model.Name</li>
        </ol>
    </nav>

    <div class="row mb-5">
        <div class="col-lg-8">
            <div class="card border-0 shadow-sm overflow-hidden">
                <img src="@(string.IsNullOrEmpty(Model.ImageUrl) ? $"https://source.unsplash.com/random/1200x800/?travel,{Model.Name}" : Model.ImageUrl)" 
                     class="card-img-top" alt="@Model.Name" style="height: 400px; object-fit: cover;">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h1 class="card-title mb-0">@Model.Name</h1>
                        @if (Model.IsPopular)
                        {
                            <span class="badge bg-warning text-dark"><i class="bi bi-star-fill me-1"></i> Tour phổ biến</span>
                        }
                    </div>
                    
                    <div class="d-flex flex-wrap gap-4 mb-4">
                        <div class="d-flex align-items-center">
                            <i class="bi bi-geo-alt me-2 text-primary fs-5"></i>
                            <div>
                                <small class="text-muted d-block">Điểm đến</small>
                                <span>@Model.Destination.Name, @Model.Destination.Country</span>
                            </div>
                        </div>
                        <div class="d-flex align-items-center">
                            <i class="bi bi-clock me-2 text-primary fs-5"></i>
                            <div>
                                <small class="text-muted d-block">Thời gian</small>
                                <span>@(Model.Duration.HasValue ? $"{Model.Duration} ngày" : "Liên hệ để biết chi tiết")</span>
                            </div>
                        </div>
                        <div class="d-flex align-items-center">
                            <i class="bi bi-currency-dollar me-2 text-primary fs-5"></i>
                            <div>
                                <small class="text-muted d-block">Giá/người</small>
                                <span class="fw-bold text-primary fs-5">@Model.Price.ToString("N0") VNĐ</span>
                            </div>
                        </div>
                    </div>
                    
                    <h5 class="mt-4 mb-3">Mô tả chi tiết</h5>
                    <p class="card-text">@(string.IsNullOrEmpty(Model.Description) 
                        ? "Khám phá trải nghiệm du lịch tuyệt vời với tour du lịch này. Chúng tôi sẽ mang đến cho bạn những khoảnh khắc khó quên và dịch vụ chuyên nghiệp nhất." 
                        : Model.Description)</p>
                    
                    <h5 class="mt-4 mb-3">Thông tin thêm về điểm đến</h5>
                    <p>@(string.IsNullOrEmpty(Model.Destination.Description) 
                        ? $"Khám phá vẻ đẹp tuyệt vời của {Model.Destination.Name}, {Model.Destination.Country}. Đây là một trong những điểm đến được yêu thích nhất của chúng tôi." 
                        : Model.Destination.Description)</p>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4 mt-4 mt-lg-0">
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-body p-4">
                    <h4 class="card-title mb-4">Đặt tour</h4>
                    <form>
                        <div class="mb-3">
                            <label for="bookingDate" class="form-label">Ngày khởi hành</label>
                            <input type="date" class="form-control" id="bookingDate" required>
                        </div>
                        <div class="mb-3">
                            <label for="guests" class="form-label">Số người</label>
                            <select class="form-select" id="guests" required>
                                <option value="1">1 người</option>
                                <option value="2" selected>2 người</option>
                                <option value="3">3 người</option>
                                <option value="4">4 người</option>
                                <option value="5">5+ người</option>
                            </select>
                        </div>
                        <div class="mb-4">
                            <label for="notes" class="form-label">Ghi chú</label>
                            <textarea class="form-control" id="notes" rows="3" placeholder="Yêu cầu đặc biệt..."></textarea>
                        </div>
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary btn-lg">Đặt tour ngay</button>
                        </div>
                    </form>
                </div>
            </div>
            
            <div class="card border-0 shadow-sm">
                <div class="card-body p-4">
                    <h5 class="card-title mb-3">Thông tin liên hệ</h5>
                    <div class="d-flex align-items-center mb-3">
                        <i class="bi bi-telephone me-3 text-primary fs-4"></i>
                        <div>
                            <small class="text-muted d-block">Điện thoại</small>
                            <span>+84 123 456 789</span>
                        </div>
                    </div>
                    <div class="d-flex align-items-center mb-3">
                        <i class="bi bi-envelope me-3 text-primary fs-4"></i>
                        <div>
                            <small class="text-muted d-block">Email</small>
                            <span>info@travelwebsite.com</span>
                        </div>
                    </div>
                    <div class="d-flex align-items-center">
                        <i class="bi bi-geo me-3 text-primary fs-4"></i>
                        <div>
                            <small class="text-muted d-block">Địa chỉ</small>
                            <span>123 Đường ABC, Quận XYZ, TP. Hồ Chí Minh</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="d-flex justify-content-between mt-4">
        <a asp-action="Index" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left me-2"></i>Quay lại danh sách tour
        </a>
        
        @if (User.IsInRole("Admin"))
        {
            <div>
                <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-outline-primary me-2">
                    <i class="bi bi-pencil me-1"></i> Sửa
                </a>
                <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-outline-danger">
                    <i class="bi bi-trash me-1"></i> Xóa
                </a>
            </div>
        }
    </div>
</div> 